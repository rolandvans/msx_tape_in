Version 4
SHEET 1 1852 6272
WIRE -272 -320 -304 -320
WIRE -112 -320 -208 -320
WIRE -304 -224 -304 -320
WIRE -272 -224 -304 -224
WIRE -112 -224 -112 -320
WIRE -112 -224 -192 -224
WIRE 96 -176 -192 -176
WIRE 304 -176 96 -176
WIRE 368 -176 304 -176
WIRE 32 -160 -80 -160
WIRE 96 -160 96 -176
WIRE 368 -160 368 -176
WIRE -192 -144 -192 -176
WIRE 32 -144 32 -160
WIRE 64 -144 32 -144
WIRE -544 -128 -656 -128
WIRE -432 -128 -480 -128
WIRE -304 -128 -304 -224
WIRE -304 -128 -352 -128
WIRE -224 -128 -304 -128
WIRE 224 -128 128 -128
WIRE -112 -112 -112 -224
WIRE -112 -112 -160 -112
WIRE -64 -112 -112 -112
WIRE 32 -112 16 -112
WIRE 64 -112 32 -112
WIRE -224 -96 -256 -96
WIRE -656 -80 -656 -128
WIRE 96 -80 96 -96
WIRE -192 -64 -192 -80
WIRE -256 -48 -256 -96
WIRE -80 -48 -80 -160
WIRE -80 -48 -256 -48
WIRE 368 -16 368 -80
WIRE -80 0 -176 0
WIRE 32 0 32 -112
WIRE 64 0 32 0
WIRE 224 0 224 -128
WIRE 224 0 144 0
WIRE -176 64 -176 0
WIRE -80 80 -80 0
WIRE 304 80 304 -176
WIRE 304 80 -80 80
WIRE -656 96 -656 0
WIRE -256 176 -256 -48
WIRE -176 176 -176 144
WIRE -176 176 -256 176
WIRE -176 192 -176 176
WIRE -256 208 -256 176
WIRE -256 304 -256 272
WIRE -176 304 -176 272
WIRE -176 304 -256 304
WIRE -176 352 -176 304
FLAG -176 352 0
FLAG -192 -64 0
FLAG 96 -80 0
FLAG 368 -16 0
FLAG -656 96 0
FLAG 224 -128 Output
FLAG -656 -128 Input
FLAG -112 -224 Amplified
SYMBOL OpAmps\\opamp2 96 -192 R0
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL OpAmps\\opamp2 -192 -176 R0
SYMATTR InstName U2
SYMATTR Value LM358
SYMBOL voltage 368 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res -336 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -176 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 330k
SYMBOL res 32 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 48 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 330k
SYMBOL res -192 48 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -192 176 R0
SYMATTR InstName R6
SYMATTR Value 6k8
SYMBOL cap -480 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap -208 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 22p
SYMBOL cap -240 272 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL voltage -656 -96 R0
WINDOW 123 24 100 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 128 Left 2
SYMATTR Value SINE(0 3.5m 4800)
SYMATTR InstName V1
TEXT -720 216 Left 2 !.tran 0 100m 90m
TEXT 656 -168 Left 2 !* BEGIN SPICE MODEL LM358\n* ON SEMICONDUCTOR NEXT GEN MODEL 9/27/2018\n* MODEL FEATURES INCLUDE OUTPUT SWING, OUTPUT CURRENT\n* THROUGH THE SUPPLY RAILS, CLASS B OUTPUT STAGE, OUTPUT\n* SWING, OPEN LOOP GAIN AND PHASE WITH RL AND CL EFFECTS,\n* POWER SUPPLY REJECTION WITH FREQUENCY EFFECTS, COMMON\n* MODE REJECTION WITH FREQUENCY EFFECTS, INPUT VOLTAGE\n; NOISE WITH 1/F, INPUT CURRENT NOISE, INPUT BIAS AND\n* OFFSET CURRENT, INPUT COMMON MODE VOLTAGE RANGE, VOS\n* WITH TEMPERATURE EFFECTS, AND QUIESCENT CURRENT WITH\n* TEMPERATURE EFFECTS.\n* MODEL TOTAL SUPPLY VOLTAGE RANGE IS 3 TO 36 V.\n* MODEL TEMP RANGE IS -55 TO +125 DEG C.\n* NOTE THAT MODEL IS FUNCTIONAL OVER THIS TEMP RANGE\n* BUT NOT ALL PARAMETERS TRACK THOSE OF THE REAL PART.\n* NOTE THAT LIKE THE REAL PART THERE IS NO AB BIAS\n* IN THE OUTPUT STAGE WHICH UNDER SOME CIRCUMSTANCES\n* CAUSES HIGH OUTPUT IMPEDANCE AND OR CROSSOVER DELAY\n* WHICH CAN EFFECT THE PERFORMANCE IN SOME CIRCUITS.\n* THE COMBINATION OF OUTPUT CURRENT SINK AND NO AB\n* BIAS WHEN USED WITH A LARGE CLOAD CAN CAUSE SOME\n* INTERESTING SMALL SIGNAL STEP OVERSHOOTS THAT ARE\n* LARGER THAN NORMAL AND RAMP LINEARLY RATHER THAN\n* BEING SHAPED LIKE A CLASSIC OVERSHOOT. THIS HAPPENS\n* IDENTICALLY WITH THE REAL PART AND THE MODEL.\n*\n* PINOUT ORDER +IN -IN +V -V OUT\n* PINOUT ORDER  1   2   3  4  5\n.SUBCKT LM358 1 2 3 4 5\nR44 4 6 4E4\nI1 4 7 0.5E-6\nQ1 4 8 9 QPI\nQ2 4 2 10 QPA\nQ3 9 9 11 QPI\nQ4 10 10 11 QPI\nQ5 12 13 4 QNQ\nQ6 13 13 4 QNQ\nQ7 4 12 14 QPQ\nQ8 3 14 6 QNQ\nQ9 15 6 4 QNQ\nQ10 3 15 16 QNQ\nQ11 3 16 17 QNQ\nR67 17 16 4E4\nR68 5 17 18\nQ12 4 15 5 QPQ\nQ13 15 17 5 QNQ\nI2 18 3 120E-9\nI3 19 3 60E-9\nI4 20 3 1E-6\nQ14 11 18 3 QPQ\nQ15 14 19 3 QPQ\nQ16 5 7 4 QNQ\nQ17 15 20 3 QPQ\nC15 21 22 4.8E-12\nR69 12 21 3\nR70 12 15 3E9\nE2 23 8 3 0 -10E-6\nV51 23 1 1.56E-3\nI6 3 4 5E-6\nR71 4 3 4.5E5\nQ18 12 9 11 QPQ\nQ19 13 10 11 QPQ\nC17 12 13 8E-12\nC18 6 15 1E-12\nC21 3 24 100E-15\nR78 11 24 3E5\nC22 1 2 0.23E-12\nC23 2 0 0.79E-12\nC24 1 0 0.79E-12\nE3 22 0 15 0 2\nC25 5 0 50E-15\nQ20 25 25 0 QNQ\nG1 3 4 VT 0 3E-4\nI7 0 25 1E-3\nV53 25 26 0.25\nR79 0 26 1E6\nE4 VT 0 27 26 1\nR80 0 VT 1E6\nV54 27 0 0.55\nR81 0 27 1E6\n.MODEL QPQ PNP IKF=3E-3 RC=300 KF=4.8E-17 BR=1\n.MODEL QPA PNP IKF=3E-3 RC=380 IS=1.01E-16 VAF=245 RE=5 RB=1700 BF=300 KF=4.8E-17 BR=1\n.MODEL QPI PNP IKF=3E-3 RC=380 IS=1.01E-16 VAF=290 RE=5 RB=1700 BF=306 KF=4.8E-17 BR=1\n.MODEL QNQ NPN IKF=5E-3 RC=25  KF=4.8E-17 BR=1\n.ENDS\n* END SPICE MODEL LM358
TEXT -912 6240 Left 2 !;tran 0 100m 90m
TEXT -920 6256 Left 2 !;tran 0 100m 90m
TEXT -752 264 Left 2 !;ac dec 100 10 100k
